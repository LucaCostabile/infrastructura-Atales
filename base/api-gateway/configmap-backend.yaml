apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: test
data:
  DB_HOST: "atalesdb.crxuvzgv6rwg.us-east-1.rds.amazonaws.com"
  DB_NAME: "atalesdb"
  NODE_ENV: "test"
  API_GATEWAY_PORT: "3000"
  AUTH_SERVICE_PORT: "3001"
  BUSINESS_SERVICE_PORT: "3002"
  MYSQL_PORT: "3306"
  FRONTEND_URL: "http://frontend-service.test.svc.cluster.local"
  CORS_ALLOWED_ORIGINS: "http://localhost:3000,https://atales.local,http://192.168.49.2,http://k8s-test-frontend-*.elb.us-east-1.amazonaws.com"
  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "1000"
  AUTH_RATE_LIMIT_WINDOW_MS: "60000"
  AUTH_RATE_LIMIT_MAX_REQUESTS: "100"
  PROXY_TIMEOUT: "30000"
  HEALTH_CHECK_TIMEOUT: "5000"
  LOG_LEVEL: "debug"  # Cambiado a debug para mejor troubleshooting
  LOG_FORMAT: "combined"
  DB_CONNECTION_RETRIES: "5"
  DB_RETRY_DELAY: "5000"
